ant.importBuild('build.xml')


task git(type: Exec) {
    workingDir 'npc.assets'
    commandLine 'git', 'pull'
}

task npm(type: Exec, dependsOn: git) {
    workingDir 'npc.assets'
    commandLine 'npm', 'install'
}

task grunt(type: Exec, dependsOn: npm) {
    workingDir 'npc.assets'
    commandLine 'grunt', 'build'
}

task symlink(type: Exec, dependsOn: grunt) {
  commandLine 'ln', '-s', 'npc.assets/dist', 'assets'
}
symlink.doFirst {
  commandLine 'rm', 'assets'
}

task foo(dependsOn: symlink) << {
    println "All ready"
}


